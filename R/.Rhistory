g1_A1_sv_0.1_loss_df <- c_all_results(g1_A1_sv_0.1_results)
View(g1_A1_sv_0.1_loss_df)
g1_A1_sv_0.1_loss_df <- c_all_results(g1_A1_sv_0.01_results)
g1_A1_sv_0.01_loss_df <- c_all_results(g1_A1_sv_0.01_results)
View(g1_A1_sv_0.01_loss_df)
View(g1_A1_sv_0.01_loss_df)
g1_A1_sv_0.01_results[[1]]$LM_MSE[[1]]$variable_importance %>%
arrange(desc(importance))
g1_A1_sv_0.01_results[[1]]$RF_MSE[[1]]$variable_importance %>%
arrange(desc(importance))
g1_A1_sv_0.01_results[[1]]$ELN_MSE[[1]]$variable_importance %>%
arrange(desc(importance))
g1_A1_sv_0.1_results[[1]]$LM_MSE[[1]]$variable_importance %>%
arrange(desc(importance))
g1_A1_sv_0.1_results[[1]]$ELN_MSE[[1]]$variable_importance %>%
arrange(desc(importance))
g1_A1_sv_0.1_results[[1]]$RF_MSE[[1]]$variable_importance %>%
arrange(desc(importance))
g2_A1_sv_0.1_results[[1]]$RF_MSE[[1]]$variable_importance %>%
arrange(desc(importance))
g2_A1_sv_0.1_results[[1]]$LM_MSE[[1]]$variable_importance %>%
arrange(desc(importance))
g2_A1_sv_0.1_results[[1]]$LM_MAE[[1]]$variable_importance %>%
arrange(desc(importance))
g2_A1_sv_0.1_results[[1]]$ELN_MAE[[1]]$variable_importance %>%
arrange(desc(importance))
g2_A1_sv_0.1_results[[1]]$RF_MAE[[1]]$variable_importance %>%
arrange(desc(importance))
g2_A1_sv_0.1_results[[1]]$RF_MSE[[1]]$variable_importance %>%
arrange(desc(importance))
g2_A1_sv_0.1_results[[1]]$RF_MAE[[1]]$variable_importance %>%
arrange(desc(importance))
g2_A1_sv_0.1_results[[1]]$RF_MSE[[1]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[1]]$RF_MSE[[1]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[1]]$LM_MSE[[1]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[1]]$ELN_MSE[[1]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[1]]$RF_MSE[[1]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[1]]$RF_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[1]]$RF_MSE[[4]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[1]]$RF_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[2]]$RF_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[3]]$RF_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[4]]$RF_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[5]]$RF_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[5]]$LM_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[6]]$LM_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[6]]$RF_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[7]]$RF_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[1]]$RF_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[2]]$RF_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[3]]$RF_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[4]]$RF_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[5]]$RF_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[5]]$RF_MAE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[5]]$ELN_MAE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[5]]$ELN_MSE[[3]]$variable_importance %>%
arrange(desc(importance))
g3_A1_sv_0.1_results[[1]]$ELN_MSE[[1]]$hyperparameters
g3_A1_sv_0.1_results[[2]]$ELN_MSE[[1]]$hyperparameters
g3_A1_sv_0.1_results[[1]]$ELN_MSE[[1]]$hyperparameters
g3_A1_sv_0.1_results[[1]]$ELN_MSE[[2]]$hyperparameters
g3_A1_sv_0.1_results[[1]]$ELN_MSE[[3]]$hyperparameters
g3_A1_sv_0.01_results[[1]]$ELN_MSE[[3]]$hyperparameters
g3_A1_sv_0.01_results[[1]]$ELN_MSE[[1]]$hyperparameters
g3_A1_sv_0.01_results[[1]]$ELN_MSE[[2]]$hyperparameters
g3_A1_nosv_0_results[[1]]$ELN_MSE[[2]]$hyperparameters
g3_A1_nosv_0_results[[1]]$ELN_MSE[[1]]$hyperparameters
g3_A1_nosv_0_results[[1]]$ELN_MSE[[3]]$hyperparameters
g3_A1_nosv_0_results[[1]]$ELN_MSE[[1]]$hyperparameters
g3_A1_nosv_0_results[[1]]$ELN_MSE[[2]]$hyperparameters
g3_A1_nosv_0_results[[1]]$ELN_MSE[[3]]$hyperparameters
g1_A1_nosv_0_loss_df <- c_all_results(g1_A1_nosv_0_results)
g2_A1_nosv_0_loss_df <- c_all_results(g2_A1_nosv_0_results)
g3_A1_nosv_0_loss_df <- c_all_results(g3_A1_nosv_0_results)
g1_A1_sv_0.01_loss_df <- c_all_results(g1_A1_sv_0.01_results)
g2_A1_sv_0.01_loss_df <- c_all_results(g2_A1_sv_0.01_results)
g3_A1_sv_0.01_loss_df <- c_all_results(g3_A1_sv_0.01_results)
g1_A1_sv_0.1_loss_df <- c_all_results(g1_A1_sv_0.1_results)
g2_A1_sv_0.1_loss_df <- c_all_results(g2_A1_sv_0.1_results)
g3_A1_sv_0.1_loss_df <- c_all_results(g3_A1_sv_0.1_results)
View(g2_A1_nosv_0_loss_df)
g3_A1_sv_0.1_loss_df <- c_all_results(g3_A1_sv_0.1_results) %>%
group_by(realization_no)
g3_A1_sv_0.1_loss_df %>%
group_by(realization_no)
g3_A1_sv_0.1_loss_df %>%
group_by(realization_no, model)
g3_A1_sv_0.1_loss_df %>%
group_by(realization_no, model) %>%
summarise()
View(g3_A1_nosv_0_loss_df)
g3_A1_sv_0.1_loss_df %>%
group_by(realization_no, model) %>%
summarise(train_MAE = mean(train_MAE))
g3_A1_sv_0.1_loss_df %>%
group_by(sample, model) %>%
summarise(train_MAE = mean(train_MAE))
g3_A1_sv_0.1_loss_df %>%
filter(model == LM_MSE) %>%
mean(train_MAE)
g3_A1_sv_0.1_loss_df %>%
filter(model == "LM_MSE") %>%
mean(train_MAE)
g3_A1_sv_0.1_loss_df %>%
filter(model == "LM_MSE")
g3_A1_sv_0.1_loss_df %>%
group_by(sample, model) %>%
summarise(train_MAE = mean(train_MAE))
g3_A1_sv_0.1_loss_df %>%
filter(model == "LM_MSE" | sample == 1)
g3_A1_sv_0.1_loss_df %>%
filter(model == "LM_MSE" & sample == 1)
g3_A1_sv_0.1_loss_df %>%
filter(model == "LM_MSE" & sample == 1) %>%
mean()
g3_A1_sv_0.1_loss_df %>%
filter(model == "LM_MSE" & sample == 1) %>%
mean(train_MAE)
test <- g3_A1_sv_0.1_loss_df %>%
filter(model == "LM_MSE" & sample == 1)
mean(test$train_MAE)
g3_A1_sv_0.1_loss_df %>%
group_by(sample, model) %>%
summarise(train_MAE = mean(train_MAE))
g3_A1_sv_0.1_loss_df %>%
group_by(sample, model) %>%
summarise(train_MAE = mean(train_MAE), train_MSE = mean(train_MSE),
train_RMSE = mean(train_RMSE), train_RSquare = mean(train_RSquare),
validation_MAE = mean(validation_MAE), validation_MSE = mean(validation_MSE),
validation_RMSE = mean(validation_RMSE), validation_RSquare = mean(validation_RSquare),
test_MAE = mean(test_MAE), test_MSE = mean(test_MSE),
test_RMSE = mean(test_RMSE), test_RSquare = mean(test_RSquare)
)
average_over_realizations <- function(simulation_results) {
c_all_results(simulation_results) %>%
group_by(sample, model) %>%
summarise(train_MAE = mean(train_MAE), train_MSE = mean(train_MSE),
train_RMSE = mean(train_RMSE), train_RSquare = mean(train_RSquare),
validation_MAE = mean(validation_MAE), validation_MSE = mean(validation_MSE),
validation_RMSE = mean(validation_RMSE), validation_RSquare = mean(validation_RSquare),
test_MAE = mean(test_MAE), test_MSE = mean(test_MSE),
test_RMSE = mean(test_RMSE), test_RSquare = mean(test_RSquare)
)
}
average_over_realizations(g1_A1_nosv_0_results)
average_over_realizations(g2_A1_nosv_0_results)
test <- average_over_realizations(g2_A1_nosv_0_results)
View(test)
test <- average_over_realizations(g1_A1_nosv_0_results)
View(test)
test <- average_over_realizations(g3_A1_nosv_0_results)
View(test)
test <- average_over_realizations(g1_A1_sv_0.01_results)
View(test)
test <- average_over_realizations(g1_A1_sv_0.1_results)
test <- average_over_realizations(g1_A1_sv_0.1_results)
View(test)
test <- average_over_realizations(g3_A1_sv_0.1_results)
View(test)
test <- average_over_realizations(g2_A1_sv_0.1_results)
View(test)
g3_A1_sv_0.01_results[[1]]$RF_MSE[[1]]$hyperparameters
g3_A1_sv_0.01_results[[1]]$RF_MSE[[2]]$hyperparameters
g3_A1_sv_0.01_results[[1]]$RF_MSE[[3]]$hyperparameters
g3_A1_sv_0.01_results[[1]]$RF_MAE[[1]]$hyperparameters
cbind(SV = 0, cross_corr = 0, average_over_realizations(g1_A1_nosv_0_results))
average_over_realizations(g1_A1_nosv_0_results)
cbind(SV = 0, cross_corr = 0, average_over_realizations(g1_A1_nosv_0_results))
cbind(cross_corr = 0, average_over_realizations(g1_A1_nosv_0_results))
cbind(average_over_realizations(g1_A1_nosv_0_results), 1)
cbind(average_over_realizations(g1_A1_nosv_0_results), SV = 1)
cbind(SV = rep(0, nrow(average_over_realizations(g1_A1_nosv_0_results))),
cross_corr = rep(0, nrow(average_over_realizations(g1_A1_nosv_0_results))),
average_over_realizations(g1_A1_nosv_0_results))
cbind(SV = rep(0, nrow(average_over_realizations(g1_A1_nosv_0_results))),
cross_corr = rep(0, nrow(average_over_realizations(g1_A1_nosv_0_results))),
specification = rep("g1", nrow(average_over_realizations(g1_A1_nosv_0_results))),
average_over_realizations(g1_A1_nosv_0_results))
append_id_columns <- function(SV, cross_corr, specification, simulation_results) {
cbind(SV = rep(SV, nrow(average_over_realizations(simulation_results))),
cross_corr = rep(cross_corr, nrow(average_over_realizations(simulation_results))),
specification = rep(specification, nrow(average_over_realizations(simulation_results))),
average_over_realizations(simulation_results))
}
append_id_columns <- function(SV, cross_corr, specification, simulation_results) {
cbind(SV = rep(SV, nrow(average_over_realizations(simulation_results))),
cross_corr = rep(cross_corr, nrow(average_over_realizations(simulation_results))),
specification = rep(specification, nrow(average_over_realizations(simulation_results))),
average_over_realizations(simulation_results))
}
all_results_df <- rbind(
append_id_columns(SV = 0, cross_cross = 0, specification = "g1", g1_A1_nosv_0_results),
append_id_columns(SV = 0, cross_cross = 0, specification = "g2", g1_A1_nosv_0_results),
append_id_columns(SV = 0, cross_cross = 0, specification = "g3", g1_A1_nosv_0_results),
append_id_columns(SV = 1, cross_cross = 0.01, specification = "g1", g1_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_cross = 0.01, specification = "g2", g1_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_cross = 0.01, specification = "g3", g1_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_cross = 0.1, specification = "g1", g1_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_cross = 0.1, specification = "g2", g2_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_cross = 0.1, specification = "g3", g3_A1_sv_0.1_results),
)
all_results_df <- rbind(
append_id_columns(SV = 0, cross_corr = 0, specification = "g1", g1_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g2", g1_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g3", g1_A1_nosv_0_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g1", g1_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g2", g1_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g3", g1_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g1", g1_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g2", g2_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g3", g3_A1_sv_0.1_results),
)
all_results_df <- rbind(
append_id_columns(SV = 0, cross_corr = 0, specification = "g1", simulation_results = g1_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g2", simulation_results = g2_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g3", simulation_results = g3_A1_nosv_0_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g1", simulation_results = g1_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g2", simulation_results = g2_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g3", simulation_results = g3_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g1", simulation_results = g1_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g2", simulation_results = g2_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g3", simulation_results = g3_A1_sv_0.1_results),
)
append_id_columns <- function(SV, cross_corr, specification, simulation_results) {
cbind(SV = rep(SV, nrow(average_over_realizations(simulation_results))),
cross_corr = rep(cross_corr, nrow(average_over_realizations(simulation_results))),
dgp_spec = rep(specification, nrow(average_over_realizations(simulation_results))),
average_over_realizations(simulation_results))
}
all_results_df <- rbind(
append_id_columns(SV = 0, cross_corr = 0, specification = "g1", simulation_results = g1_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g2", simulation_results = g2_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g3", simulation_results = g3_A1_nosv_0_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g1", simulation_results = g1_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g2", simulation_results = g2_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g3", simulation_results = g3_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g1", simulation_results = g1_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g2", simulation_results = g2_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g3", simulation_results = g3_A1_sv_0.1_results),
)
all_results_df <- rbind(
append_id_columns(SV = 0, cross_corr = 0, specification = "g1", simulation_results = g1_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g2", simulation_results = g2_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g3", simulation_results = g3_A1_nosv_0_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g1", simulation_results = g1_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g2", simulation_results = g2_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g3", simulation_results = g3_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g1", simulation_results = g1_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g2", simulation_results = g2_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g3", simulation_results = g3_A1_sv_0.1_results),
)
append_id_columns(SV = 0, cross_corr = 0, specification = "g1", simulation_results = g1_A1_nosv_0_results)
append_id_columns(SV = 0, cross_corr = 0, specification = "g2", simulation_results = g2_A1_nosv_0_results)
append_id_columns(SV = 0, cross_corr = 0, specification = "g3", simulation_results = g3_A1_nosv_0_results)
append_id_columns <- function(SV, cross_corr, specification, simulation_results) {
cbind(SV = rep(SV, nrow(average_over_realizations(simulation_results))),
cross_corr = rep(cross_corr, nrow(average_over_realizations(simulation_results))),
dgp_spec = rep(specification, nrow(average_over_realizations(simulation_results))),
average_over_realizations(simulation_results))
}
all_results_df <- rbind(
append_id_columns(SV = 0, cross_corr = 0, specification = "g1", simulation_results = g1_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g2", simulation_results = g2_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g3", simulation_results = g3_A1_nosv_0_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g1", simulation_results = g1_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g2", simulation_results = g2_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g3", simulation_results = g3_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g1", simulation_results = g1_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g2", simulation_results = g2_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g3", simulation_results = g3_A1_sv_0.1_results)
)
View(all_results_df)
g1_A1_sv_1 <- sim_panel_data(simN,
char_rho_a = 0.5, char_rho_b = 1,
cross_corr = 1, cross_corr_degree = 1,
A1, xt_multi = 1, g_function = "g1", theta = matrix(c(0.015, 0.015, 0.015), nrow = 1),
error_sv = 1, error_ep_sd = 1,
error_omega = -0.275, error_gamma = 0.95, error_w = 0.430, error_v_sd = 0,
predictor_format = "kronecker")
summary(sim_tune_statistics(g1_A1_sv_1))
g2_A1_sv_1 <- sim_panel_data(simN,
char_rho_a = 0.5, char_rho_b = 1,
cross_corr = 1, cross_corr_degree = 1,
A1, xt_multi = 1, g_function = "g2", theta = matrix(c(0.012, 0.012, 0.012), nrow = 1),
error_sv = 1, error_ep_sd = 1,
error_omega = -0.275, error_gamma = 0.95, error_w = 0.430, error_v_sd = 0,
predictor_format = "kronecker")
summary(sim_tune_statistics(g2_A1_sv_1))
g3_A1_sv_1 <- sim_panel_data(simN,
char_rho_a = 0.5, char_rho_b = 1,
cross_corr = 1, cross_corr_degree = 1,
A1, xt_multi = 1, g_function = "g3", theta = matrix(c(0.02, 0.02, 0.02, 0.02), nrow = 1),
error_sv = 1, error_ep_sd = 1,
error_omega = -0.275, error_gamma = 0.95, error_w = 0.430, error_v_sd = 0,
predictor_format = "kronecker")
summary(sim_tune_statistics(g3_A1_sv_1))
saveRDS(g1_A1_sv_1, file = "g1_A1_sv_1.rds")
saveRDS(g2_A1_sv_1, file = "g2_A1_sv_1.rds")
saveRDS(g3_A1_sv_1, file = "g3_A1_sv_1.rds")
g1_A1_sv_1_results <- fit_all_models(g1_A1_sv_1, batch_process_range, LM = 1, ELN = 1, RF = 1, NNet = 0)
g2_A1_sv_1_results <- fit_all_models(g2_A1_sv_1, batch_process_range, LM = 1, ELN = 1, RF = 1, NNet = 0)
g3_A1_sv_1_results <- fit_all_models(g3_A1_sv_1, batch_process_range, LM = 1, ELN = 1, RF = 1, NNet = 0)
saveRDS(g1_A1_sv_1_results, "g1_A1_sv_1_results.rds")
saveRDS(g2_A1_sv_1_results, "g2_A1_sv_1_results.rds")
saveRDS(g3_A1_sv_1_results, "g3_A1_sv_1_results.rds")
g1_A1_sv_1_results[[1]]$LM_MSE[[1]]$loss_stats
g1_A1_sv_1_results[[1]]$LM_MSE[[1]]$variable_importance
g1_A1_sv_1_results[[1]]$LM_MSE[[1]]$variable_importance %>% arrange(desc(importance))
g1_A1_sv_1_results[[1]]$LM_MAE[[1]]$loss_stats
g1_A1_sv_1_results[[1]]$ELN_MSE[[1]]$loss_stats
g1_A1_sv_1_results[[1]]$ELN_MSE[[1]]$variable_importance %>% arrange(desc(importance)
)
g1_A1_sv_1_results[[1]]$ELN_MAE[[1]]$variable_importance %>% arrange(desc(importance))
g1_A1_sv_1_results[[1]]$RF_MAE[[1]]$variable_importance %>% arrange(desc(importance))
g1_A1_sv_1_results[[1]]$RF_MSE[[1]]$variable_importance %>% arrange(desc(importance))
g1_A1_sv_1_results[[1]]$RF_MSE[[1]]$loss_stats
g1_A1_sv_1_results[[1]]$RF_MAE[[1]]$loss_stats
g3_A1_sv_1_results[[1]]$ELN_MSE[[1]]$loss_stats
g3_A1_sv_1_results[[1]]$ELN_MSE[[1]]$variable_importance %>% arrange(desc(importance))
g3_A1_sv_1_results[[1]]$RF_MSE[[1]]$variable_importance %>% arrange(desc(importance))
g3_A1_sv_1_results[[1]]$RF_MAE[[1]]$variable_importance %>% arrange(desc(importance))
g3_A1_sv_1_results[[1]]$RF_MSE[[1]]$loss_stats
g3_A1_sv_1_results[[1]]$ELN_MSE[[1]]$loss_stats
all_results_df <- rbind(
append_id_columns(SV = 0, cross_corr = 0, specification = "g1", simulation_results = g1_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g2", simulation_results = g2_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g3", simulation_results = g3_A1_nosv_0_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g1", simulation_results = g1_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g2", simulation_results = g2_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g3", simulation_results = g3_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g1", simulation_results = g1_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g2", simulation_results = g2_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g3", simulation_results = g3_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g1", simulation_results = g1_A1_sv_1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g2", simulation_results = g2_A1_sv_1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g3", simulation_results = g3_A1_sv_1_results)
)
all_results_df
View(all_results_df)
c_loss_df <- function(simulation_results, batch, sample) {
cbind(realization_no = batch, sample = sample,
rbind(cbind(model = "LM_MSE", simulation_results[[batch]]$LM_MSE[[sample]]$loss_stats),
cbind(model = "LM_MAE", simulation_results[[batch]]$LM_MSE[[sample]]$loss_stats),
cbind(model = "ELN_MSE", simulation_results[[batch]]$ELN_MSE[[sample]]$loss_stats),
cbind(model = "ELN_MAE", simulation_results[[batch]]$ELN_MAE[[sample]]$loss_stats),
cbind(model = "RF_MSE", simulation_results[[batch]]$RF_MSE[[sample]]$loss_stats),
cbind(model = "RF_MAE", simulation_results[[batch]]$RF_MAE[[sample]]$loss_stats)
# cbind(model = "NN1_MSE", simulation_results[[batch]]$NN1_MSE[[sample]]$loss_stats),
# cbind(model = "NN1_MAE", simulation_results[[batch]]$NN1_MAE[[sample]]$loss_stats),
#
# cbind(model = "NN2_MSE", simulation_results[[batch]]$NN2_MSE[[sample]]$loss_stats),
# cbind(model = "NN2_MAE", simulation_results[[batch]]$NN2_MAE[[sample]]$loss_stats),
#
# cbind(model = "NN3_MSE", simulation_results[[batch]]$NN3_MSE[[sample]]$loss_stats),
# cbind(model = "NN3_MAE", simulation_results[[batch]]$NN3_MAE[[sample]]$loss_stats),
#
# cbind(model = "NN4_MSE", simulation_results[[batch]]$NN4_MSE[[sample]]$loss_stats),
# cbind(model = "NN4_MAE", simulation_results[[batch]]$NN4_MAE[[sample]]$loss_stats),
#
# cbind(model = "NN5_MSE", simulation_results[[batch]]$NN5_MSE[[sample]]$loss_stats),
# cbind(model = "NN5_MAE", simulation_results[[batch]]$NN5_MAE[[sample]]$loss_stats)
)
)
}
c_iterate_samples <- function(simulation_results, batch) {
foreach(sample = 1:3, .combine = "rbind") %do% {
c_loss_df(g1_A1_sv_0.01_results, batch, sample)
}
}
c_all_results <- function(simulation_results) {
foreach(batch = 1:10, .combine = "rbind") %do% {
c_iterate_samples(simulation_results, batch)
}
}
average_over_realizations <- function(simulation_results) {
c_all_results(simulation_results) %>%
group_by(sample, model) %>%
summarise(train_MAE = mean(train_MAE), train_MSE = mean(train_MSE),
train_RMSE = mean(train_RMSE), train_RSquare = mean(train_RSquare),
validation_MAE = mean(validation_MAE), validation_MSE = mean(validation_MSE),
validation_RMSE = mean(validation_RMSE), validation_RSquare = mean(validation_RSquare),
test_MAE = mean(test_MAE), test_MSE = mean(test_MSE),
test_RMSE = mean(test_RMSE), test_RSquare = mean(test_RSquare)
)
}
append_id_columns <- function(SV, cross_corr, specification, simulation_results) {
cbind(SV = rep(SV, nrow(average_over_realizations(simulation_results))),
cross_corr = rep(cross_corr, nrow(average_over_realizations(simulation_results))),
dgp_spec = rep(specification, nrow(average_over_realizations(simulation_results))),
average_over_realizations(simulation_results))
}
all_results_df <- rbind(
append_id_columns(SV = 0, cross_corr = 0, specification = "g1", simulation_results = g1_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g2", simulation_results = g2_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g3", simulation_results = g3_A1_nosv_0_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g1", simulation_results = g1_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g2", simulation_results = g2_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g3", simulation_results = g3_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g1", simulation_results = g1_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g2", simulation_results = g2_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g3", simulation_results = g3_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g1", simulation_results = g1_A1_sv_1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g2", simulation_results = g2_A1_sv_1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g3", simulation_results = g3_A1_sv_1_results)
)
View(all_results_df)
g1_A1_nosv_0_results[[1]]$LM_MSE[[1]]$loss_stats
all_results_df <- rbind(
append_id_columns(SV = 0, cross_corr = 0, specification = "g1", simulation_results = g1_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g2", simulation_results = g2_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g3", simulation_results = g3_A1_nosv_0_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g1", simulation_results = g1_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g2", simulation_results = g2_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g3", simulation_results = g3_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g1", simulation_results = g1_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g2", simulation_results = g2_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g3", simulation_results = g3_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 1, specification = "g1", simulation_results = g1_A1_sv_1_results),
append_id_columns(SV = 1, cross_corr = 1, specification = "g2", simulation_results = g2_A1_sv_1_results),
append_id_columns(SV = 1, cross_corr = 1, specification = "g3", simulation_results = g3_A1_sv_1_results)
)
View(all_results_df)
g3_A1_sv_1_results[[3]]$RF_MSE[[1]]$loss_stats
g3_A1_sv_1_results[[1]]$RF_MSE[[1]]$loss_stats
g3_A1_sv_1_results[[3]]$RF_MSE[[2]]$loss_stats
g3_A1_sv_1_results[[2]]$RF_MSE[[1]]$loss_stats
g3_A1_sv_1_results[[3]]$RF_MSE[[1]]$loss_stats
g3_A1_sv_1_results[[4]]$RF_MSE[[1]]$loss_stats
g3_A1_sv_1_results[[5]]$RF_MSE[[1]]$loss_stats
g3_A1_sv_1_results[[6]]$RF_MSE[[1]]$loss_stats
g3_A1_sv_1_results[[7]]$RF_MSE[[1]]$loss_stats
g3_A1_sv_1_results[[8]]$RF_MSE[[1]]$loss_stats
c_iterate_samples(g3_A1_sv_0.01)
c_iterate_samples(g3_A1_sv_0.01, 1)
c_all_results(g3_A1_sv_1_results)
all_results_df <- rbind(
append_id_columns(SV = 0, cross_corr = 0, specification = "g1", simulation_results = g1_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g2", simulation_results = g2_A1_nosv_0_results),
append_id_columns(SV = 0, cross_corr = 0, specification = "g3", simulation_results = g3_A1_nosv_0_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g1", simulation_results = g1_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g2", simulation_results = g2_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.01, specification = "g3", simulation_results = g3_A1_sv_0.01_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g1", simulation_results = g1_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g2", simulation_results = g2_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 0.1, specification = "g3", simulation_results = g3_A1_sv_0.1_results),
append_id_columns(SV = 1, cross_corr = 1, specification = "g1", simulation_results = g1_A1_sv_1_results),
append_id_columns(SV = 1, cross_corr = 1, specification = "g2", simulation_results = g2_A1_sv_1_results),
append_id_columns(SV = 1, cross_corr = 1, specification = "g3", simulation_results = g3_A1_sv_1_results)
)
View(all_results_df)
get_single_tidy_loss_df <- function(simulation_results_list, realization_no, sample, dgp_spec) {
cbind(realization_no = realization_no, sample = sample, dgp_spec = dgp_spec,
rbind(cbind(model = "LM_MSE", simulation_results[[batch]]$LM_MSE[[sample]]$loss_stats),
cbind(model = "LM_MAE", simulation_results[[batch]]$LM_MSE[[sample]]$loss_stats),
cbind(model = "ELN_MSE", simulation_results[[batch]]$ELN_MSE[[sample]]$loss_stats),
cbind(model = "ELN_MAE", simulation_results[[batch]]$ELN_MAE[[sample]]$loss_stats),
cbind(model = "RF_MSE", simulation_results[[batch]]$RF_MSE[[sample]]$loss_stats),
cbind(model = "RF_MAE", simulation_results[[batch]]$RF_MAE[[sample]]$loss_stats)
# cbind(model = "NN1_MSE", simulation_results[[batch]]$NN1_MSE[[sample]]$loss_stats),
# cbind(model = "NN1_MAE", simulation_results[[batch]]$NN1_MAE[[sample]]$loss_stats),
#
# cbind(model = "NN2_MSE", simulation_results[[batch]]$NN2_MSE[[sample]]$loss_stats),
# cbind(model = "NN2_MAE", simulation_results[[batch]]$NN2_MAE[[sample]]$loss_stats),
#
# cbind(model = "NN3_MSE", simulation_results[[batch]]$NN3_MSE[[sample]]$loss_stats),
# cbind(model = "NN3_MAE", simulation_results[[batch]]$NN3_MAE[[sample]]$loss_stats),
#
# cbind(model = "NN4_MSE", simulation_results[[batch]]$NN4_MSE[[sample]]$loss_stats),
# cbind(model = "NN4_MAE", simulation_results[[batch]]$NN4_MAE[[sample]]$loss_stats),
#
# cbind(model = "NN5_MSE", simulation_results[[batch]]$NN5_MSE[[sample]]$loss_stats),
# cbind(model = "NN5_MAE", simulation_results[[batch]]$NN5_MAE[[sample]]$loss_stats)
)
)
}
get_single_tidy_loss_df(g1_A1_nosv_0_results, 1, 1, "g1")
get_tidy_loss_df_batches <- function(simulation_results_list, realization_no, dgp_spec) {
foreach(sample = (1:3), .combine = rbind) %do% {
get_single_tidy_loss_df <- function(simulation_results_list, realization_no, sample, dgp_spec)
}
get_tidy_loss_df_batches <- function(simulation_results_list, realization_no, dgp_spec) {
foreach(sample = (1:3), .combine = rbind) %do% {
get_single_tidy_loss_df(simulation_results_list, realization_no, sample, dgp_spec)
}
}
get_tidy_loss_df_batches(g1_A1_nosv_0_results, 1, "g1")
get_tidy_loss_df_batches(g2_A1_nosv_0_results, 1, "g2")
get_tidy_loss_df_batches(g3_A1_nosv_0_results, 1, "g3")
rm(g1_A1_nosv_0_results)
